---
name: Implement Objectives Page Real Data
status: open
created: 2025-10-01T02:51:14Z
updated: 2025-10-01T03:09:41Z
github: https://github.com/Montinou/stratixV2/issues/103
depends_on: [001, 002]
parallel: true
conflicts_with: []
---

# Task: Implement Objectives Page Real Data

## Description
Replace mock data in the Objectives page with real database queries using Neon PostgreSQL. Implement service layer to fetch objectives with proper multi-tenant isolation, display empty states when no data exists, and show real-time statistics in the stats cards.

## Acceptance Criteria
- [ ] Service file created: `lib/services/objectives-service.ts`
- [ ] Page updated: `/app/tools/objectives/page.tsx`
- [ ] Mock data array removed completely
- [ ] Empty state tested (displays when no data)
- [ ] Multi-tenant isolation verified (User A cannot see User B's data)
- [ ] Stats cards show real counts
- [ ] All data displays correctly with proper formatting
- [ ] Performance <2s with 100+ records
- [ ] TypeScript build passes with no errors

## Technical Details

### Service Implementation
Create `lib/services/objectives-service.ts` with the following functions:

```typescript
export async function getObjectivesForPage(organizationId: string) {
  // Query objectives table with LEFT JOIN to profiles
  // Include: id, title, description, status, owner_name, progress, target_date
  // Filter by organization_id for RLS
  // Order by created_at DESC
}

export async function getObjectiveStats(organizationId: string) {
  // Return aggregate stats: total, active, completed, at_risk
  // Calculate from status field
}
```

### Database Tables
- Primary: `objectives`
- Join: `profiles` (LEFT JOIN for owner_name)
- Filter: `organization_id` (enforced by RLS)

### Page Integration
Update `/app/tools/objectives/page.tsx`:
- Replace `mockObjectives` array with service call
- Update stats cards to use `getObjectiveStats()`
- Handle empty state with proper messaging
- Maintain existing UI/UX design

## Dependencies
- [ ] Task 001 completed (RLS infrastructure)
- [ ] Task 002 completed (RLS verification)

## Effort Estimate
- **Size**: S
- **Hours**: 2 hours
- **Parallel**: true (independent after foundation)

## Definition of Done
- [ ] Code implemented
- [ ] Multi-tenant tested with 2 organizations
- [ ] Empty state tested
- [ ] Performance benchmark met (<2s with 100+ records)
- [ ] Code reviewed
- [ ] TypeScript build passes with no errors
