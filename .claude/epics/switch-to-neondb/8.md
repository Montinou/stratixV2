---
name: Export Schema and Create Migration Scripts
status: open
created: 2025-09-23T20:50:51Z
updated: 2025-09-23T20:57:50Z
github: https://github.com/Montinou/stratixV2/issues/8
depends_on: [6]
parallel: false
conflicts_with: []
---

# Task: Export Schema and Create Migration Scripts

## Description
Export the current Supabase database schema and create SQL migration scripts in the @scripts/ directory. This includes all tables, indexes, constraints, and relationships needed to replicate the database structure in NeonDB.

## Acceptance Criteria
- [ ] Complete SQL DDL export from Supabase database
- [ ] @scripts/ directory created with proper structure
- [ ] Migration scripts created for all tables and relationships
- [ ] Schema validation scripts created
- [ ] Migration scripts tested against NeonDB staging instance
- [ ] Rollback scripts prepared

## Technical Details
- Use Supabase dashboard or pg_dump to export schema
- Create @scripts/ directory structure: /init/, /migrations/, /rollback/
- Split schema into logical migration files (tables, indexes, constraints)
- Ensure proper sequencing for foreign key dependencies
- Test migration scripts against NeonDB staging environment
- Create validation queries to verify schema integrity

## Dependencies
- [ ] NeonDB staging environment ready (Task #6)
- [ ] Supabase database access for export
- [ ] Schema documentation and understanding

## Effort Estimate
- Size: M
- Hours: 6-8 hours
- Parallel: false (depends on Task #6)

## Definition of Done
- [ ] Schema successfully exported
- [ ] @scripts/ directory structure created
- [ ] All migration scripts created and tested
- [ ] Schema validation queries working
- [ ] Rollback scripts prepared
- [ ] Migration tested on staging NeonDB
