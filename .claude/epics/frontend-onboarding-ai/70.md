---
name: Core Form Steps Implementation
status: open
created: 2025-09-27T19:31:29Z
updated: 2025-09-27T19:31:29Z
github: https://github.com/Montinou/stratixV2/issues/70
depends_on: [69]
parallel: true
conflicts_with: []
---

# Task 002: Core Form Steps Implementation

## Description

Implement the four main wizard steps with comprehensive form handling, validation, and user experience features. This includes the Welcome step with role selection, Company Info step with AI-enhanced suggestions, Organization step with team setup, and Completion step with AI-generated insights and next steps.

## Acceptance Criteria

### Welcome Step
- [ ] Animated welcome message with user's name from auth context
- [ ] Role selection with predefined options (CEO, Manager, Team Lead, Individual Contributor)
- [ ] Custom role input field with validation
- [ ] Experience level selector (Beginner, Intermediate, Advanced)
- [ ] Smooth animations and micro-interactions

### Company Info Step
- [ ] Company name input with real-time validation
- [ ] Industry selection with searchable dropdown
- [ ] Company size selector with predefined ranges
- [ ] AI-powered industry suggestions based on company name
- [ ] Optional company description textarea
- [ ] Logo upload functionality (optional)

### Organization Step
- [ ] Team size input with dynamic validation
- [ ] Department/team structure selection
- [ ] Goal-setting methodology preferences (OKRs, KPIs, Custom)
- [ ] Collaboration style assessment
- [ ] Integration preferences (Slack, Teams, Email notifications)

### Completion Step
- [ ] Personalized welcome message with user and company details
- [ ] AI-generated onboarding summary and recommendations
- [ ] Next steps roadmap based on selected preferences
- [ ] Dashboard preview with sample data
- [ ] "Start Building" CTA button

## Technical Details

### File Structure
```
/app/onboarding/welcome/
└── components/
    ├── WelcomeStep.tsx
    ├── RoleSelector.tsx
    └── ExperienceLevel.tsx

/app/onboarding/company/
└── components/
    ├── CompanyInfoStep.tsx
    ├── IndustrySelector.tsx
    ├── CompanySizeSelector.tsx
    └── LogoUpload.tsx

/app/onboarding/organization/
└── components/
    ├── OrganizationStep.tsx
    ├── TeamStructure.tsx
    ├── MethodologySelector.tsx
    └── IntegrationPreferences.tsx

/app/onboarding/complete/
└── components/
    ├── CompletionStep.tsx
    ├── OnboardingSummary.tsx
    ├── RecommendationCard.tsx
    └── NextStepsRoadmap.tsx

/lib/hooks/
├── use-onboarding-form.ts
├── use-industry-suggestions.ts
└── use-ai-recommendations.ts

/lib/validations/
└── onboarding-schemas.ts
```

### Form Validation Schemas
```typescript
// Zod schemas for each step
const welcomeSchema = z.object({
  role: z.string().min(1, "Please select your role"),
  customRole: z.string().optional(),
  experienceLevel: z.enum(["beginner", "intermediate", "advanced"])
});

const companySchema = z.object({
  name: z.string().min(2, "Company name must be at least 2 characters"),
  industry: z.string().min(1, "Please select an industry"),
  size: z.string().min(1, "Please select company size"),
  description: z.string().optional(),
  logo: z.string().optional()
});

const organizationSchema = z.object({
  teamSize: z.number().min(1).max(10000),
  structure: z.string().min(1, "Please select team structure"),
  methodology: z.string().min(1, "Please select methodology"),
  collaborationStyle: z.string().min(1, "Please select collaboration style"),
  integrations: z.array(z.string())
});
```

### Technology Stack
- **Forms**: React Hook Form with Zod validation
- **AI Integration**: Vercel AI SDK for suggestions and recommendations
- **File Upload**: Next.js API routes with file handling
- **Animations**: Framer Motion for smooth transitions
- **Persistence**: localStorage with automatic save/restore

### AI Enhancement Features
- Industry suggestion based on company name analysis
- Role-based recommendation system
- Personalized onboarding path generation
- Smart form pre-filling based on user context

## Dependencies

### External Dependencies
- Task 001: Wizard Foundation & Navigation (must be completed first)

### Internal Dependencies
- Existing auth system for user context
- Shadcn/ui form components
- Vercel AI SDK configuration
- File upload utilities

### Provides Data For
- Task 003: API Endpoints & Backend Integration
- Dashboard initialization and personalization

## Effort Estimate

**Size**: M (Medium)
**Estimated Hours**: 14-18 hours

### Breakdown
- Welcome step implementation: 3-4 hours
- Company info step with AI suggestions: 4-5 hours
- Organization step with complex forms: 3-4 hours
- Completion step with AI recommendations: 3-4 hours
- Form validation and persistence: 1-2 hours

## Definition of Done

### Functional Requirements
- [ ] All form fields validate correctly with appropriate error messages
- [ ] Form data persists across page refreshes and navigation
- [ ] AI suggestions work for industry and recommendations
- [ ] File upload functionality works for company logos
- [ ] Smooth animations enhance user experience without being distracting

### User Experience Requirements
- [ ] Forms are intuitive and guide users through the process
- [ ] Error states provide clear, actionable feedback
- [ ] Loading states indicate when AI processing is happening
- [ ] Success feedback confirms successful step completion
- [ ] Mobile-responsive design works on all screen sizes

### Technical Requirements
- [ ] React Hook Form integration with proper validation
- [ ] Zod schemas validate all input data correctly
- [ ] TypeScript interfaces match form structures
- [ ] Components are reusable and follow established patterns
- [ ] AI integration handles errors gracefully

### Data Requirements
- [ ] Form data structure matches API expectations
- [ ] Industry list is comprehensive and searchable
- [ ] File uploads are properly validated and sized
- [ ] User preferences are correctly captured and stored
- [ ] AI recommendations are relevant and personalized

### Performance Requirements
- [ ] Forms load quickly without blocking UI
- [ ] AI suggestions appear within 2-3 seconds
- [ ] File uploads show progress indicators
- [ ] Form validation is real-time but not overwhelming
- [ ] Navigation between steps is smooth and responsive

### Testing Requirements
- [ ] Form validation tested with various input scenarios
- [ ] AI integration tested with mock responses
- [ ] File upload tested with different file types and sizes
- [ ] Cross-browser compatibility verified
- [ ] Accessibility testing completed for all form elements