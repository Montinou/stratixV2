---
name: Integrate profile page with NeonAuth and API endpoints
status: open
created: 2025-09-25T04:10:26Z
updated: 2025-09-25T04:10:26Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Integrate profile page with NeonAuth and API endpoints

## Description
Update `/app/profile/page.tsx` to fully integrate with NeonAuth profile system and use `/api/profiles` endpoints instead of Supabase client calls. This ensures user profile management works correctly.

## Acceptance Criteria
- [ ] Profile page loads user's actual profile data from NeonAuth/API
- [ ] Profile editing functionality works through API endpoints
- [ ] User avatar, name, email, and other profile fields display correctly
- [ ] Profile updates persist correctly to database via API
- [ ] Integration with company/department information works
- [ ] Profile preferences and settings load correctly
- [ ] Success/error feedback for profile updates

## Technical Details
**Implementation Approach:**
- Integrate with existing `use-auth` hook for NeonAuth profile data
- Use `fetch('/api/profiles')` for profile CRUD operations
- Update profile editing forms to submit via API endpoints
- Leverage existing StackProfileBridge for profile management

**Key Considerations:**
- Profile data comes from both NeonAuth (Stack) and database profiles table
- `use-auth` hook already handles profile fetching via StackProfileBridge
- Profile updates should sync with both NeonAuth and database
- Company relationship managed through profile.companyId field

**Code Locations:**
- Primary: `/app/profile/page.tsx`
- Related: Profile editing forms and components
- Integration: `/lib/hooks/use-auth.tsx` (already updated)

## Dependencies
- [ ] `/api/profiles` endpoints (already exist and functional)
- [ ] NeonAuth integration via use-auth hook (already operational)
- [ ] StackProfileBridge system (already implemented)

## Effort Estimate
- Size: M
- Hours: 6-8 hours
- Parallel: true (independent of other page migrations)

## Definition of Done
- [ ] Profile page fully integrated with NeonAuth and API systems
- [ ] Profile editing works correctly via API endpoints
- [ ] User profile data displays accurately
- [ ] Manual testing completed for profile management
- [ ] TypeScript compilation successful with no errors